# ========================================
# FitCoach Backend Configuration
# ========================================
#
# SECURITY WARNING:
# - Never commit .env file to git
# - Generate strong SECRET_KEY in production
# - Use strong database passwords
# - Keep API keys secret
#
# ========================================

# API Settings
API_V1_PREFIX=/api/v1
PROJECT_NAME=FitCoach
VERSION=0.1.0

# ========================================
# SECURITY (REQUIRED)
# ========================================
# CRITICAL: Generate a strong SECRET_KEY for JWT token signing
# Run this command to generate: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-CHANGE-THIS-IN-PRODUCTION
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# ========================================
# DATABASE (REQUIRED)
# ========================================
POSTGRES_SERVER=localhost
POSTGRES_USER=fitcoach
POSTGRES_PASSWORD=fitcoach_password  # CHANGE THIS
POSTGRES_DB=fitcoach
POSTGRES_PORT=5432

# ========================================
# REDIS
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# ========================================
# LLM Configuration (REQUIRED for AI features)
# ========================================
# Choose provider: openai or gemini
LLM_PROVIDER=gemini

# API Keys (at least one required based on LLM_PROVIDER)
OPENAI_API_KEY=your_openai_api_key_here
GOOGLE_API_KEY=your_google_api_key_here

# Model configuration
LLM_MODEL_NAME=gemini-2.0-flash-exp
# OpenAI models: gpt-3.5-turbo, gpt-4-turbo
# Gemini models: gemini-2.0-flash-exp, gemini-1.5-flash, gemini-1.5-pro
LLM_TEMPERATURE=0.7  # Range: 0.0-1.0 (lower = more deterministic, higher = more creative)
LLM_MAX_TOKENS=500   # Maximum tokens in response

# ========================================
# Vision Agent Settings (for meal photo recognition)
# ========================================
VISION_PROVIDER=gemini  # Options: openai, gemini
VISION_MODEL=gpt-4-turbo  # For OpenAI: gpt-4-turbo, gpt-4o
GEMINI_VISION_MODEL=gemini-2.0-flash-exp  # For Gemini: gemini-2.0-flash-exp, gemini-1.5-flash, gemini-1.5-pro
VISION_MAX_TOKENS=500

# ========================================
# Web Search Settings (OPTIONAL - for nutrition data lookup)
# ========================================
TAVILY_API_KEY=your_tavily_api_key_here  # Optional: for web search nutrition data
ENABLE_WEB_SEARCH=true

# ========================================
# File Storage
# ========================================
UPLOAD_DIR=uploads
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes

# Meal Photos Storage
MEAL_PHOTOS_DIR=uploads/meal_photos
MAX_PHOTO_SIZE_MB=10

# ========================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ========================================
# Before deploying to production, ensure:
# [ ] SECRET_KEY is a strong random string (32+ characters)
# [ ] POSTGRES_PASSWORD is changed from default
# [ ] .env file is in .gitignore
# [ ] All API keys are configured
# [ ] CORS_ORIGINS is set to your frontend domain only
# [ ] Enable HTTPS/TLS for all connections
# [ ] Consider enabling rate limiting
# [ ] Review and test all security headers
# ========================================
